/* ------------------------------------------ */
/* Portfolio Grid Layouts                     */
/* ------------------------------------------ */

/* Portfolio Grid Animation */
@keyframes portfolioSheen {
  0%   { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* 1:1 Square Portfolio Grid (3 columns) */
.portfolio-grid-1x1 { 
  max-width: 1400px; 
  margin: 0 auto; 
  display: grid; 
  gap: 24px; 
  grid-template-columns: repeat(3, 1fr);
  padding: 0 20px;
}
.portfolio-grid-1x1 .tile { 
  position: relative; 
  width: 100%; 
  aspect-ratio: 1 / 1; 
  overflow: hidden; 
  border: 1px solid rgba(147, 197, 253, 0.1); 
  background: #0D111B;
  border-radius: 0;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  cursor: pointer;
}
.portfolio-grid-1x1 .tile img { 
  width: 100%; 
  height: 100%; 
  object-fit: cover; 
  display: block; 
  transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94); 
}
.portfolio-grid-1x1 .tile::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(29, 78, 216, 0);
  transition: background 0.4s ease;
  pointer-events: none;
  z-index: 1;
}
.portfolio-grid-1x1 .tile::after { 
  content: ""; 
  position: absolute; 
  inset: 0; 
  pointer-events: none; 
  background: linear-gradient(120deg, rgba(147,197,253,0.00) 10%, rgba(147,197,253,0.35) 30%, rgba(147,197,253,0.55) 40%, rgba(147,197,253,0.35) 50%, rgba(147,197,253,0.00) 70%); 
  background-size: 240% 100%; 
  background-position: 200% 0; 
  mix-blend-mode: screen; 
  opacity: 0; 
  transition: opacity 0.3s ease;
  z-index: 2;
}
.portfolio-grid-1x1 .tile:hover { 
  border-color: var(--color-accent); 
  transform: translateY(-6px);
  box-shadow: 0 15px 40px rgba(147, 197, 253, 0.3);
}
.portfolio-grid-1x1 .tile:hover::before {
  background: rgba(29, 78, 216, 0.08);
}
.portfolio-grid-1x1 .tile:hover img { 
  transform: scale(1.08); 
}
.portfolio-grid-1x1 .tile:hover::after { 
  opacity: 1; 
  animation: portfolioSheen 1.4s ease-out forwards; 
}

/* 2-Column Portfolio Grid */
.portfolio-grid-2col {
  max-width: 1400px;
  margin: 0 auto;
  display: grid;
  gap: 32px;
  grid-template-columns: repeat(2, 1fr);
  padding: 0 20px;
}
.portfolio-grid-2col .tile {
  position: relative;
  width: 100%;
  aspect-ratio: 4 / 3;
  overflow: hidden;
  border: 1px solid rgba(147, 197, 253, 0.1);
  background: #0D111B;
  transition: all 0.3s ease;
}
.portfolio-grid-2col .tile img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s ease;
}
.portfolio-grid-2col .tile:hover {
  border-color: var(--color-accent);
  transform: translateY(-4px);
  box-shadow: 0 10px 30px rgba(147, 197, 253, 0.2);
}
.portfolio-grid-2col .tile:hover img { transform: scale(1.05); }

/* Masonry-style Portfolio Grid */
.portfolio-grid-masonry {
  max-width: 1400px;
  margin: 0 auto;
  display: grid;
  gap: 24px;
  grid-template-columns: repeat(3, 1fr);
  grid-auto-rows: 300px;
  padding: 0 20px;
}
.portfolio-grid-masonry .tile {
  position: relative;
  overflow: hidden;
  border: 1px solid rgba(147, 197, 253, 0.1);
  background: #0D111B;
  transition: all 0.3s ease;
}
.portfolio-grid-masonry .tile.tall { grid-row: span 2; }
.portfolio-grid-masonry .tile.wide { grid-column: span 2; }
.portfolio-grid-masonry .tile img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s ease;
}
.portfolio-grid-masonry .tile:hover {
  border-color: var(--color-accent);
  transform: translateY(-4px);
  box-shadow: 0 10px 30px rgba(147, 197, 253, 0.2);
}
.portfolio-grid-masonry .tile:hover img { transform: scale(1.05); }

/* Portfolio Grid with Overlay Text */
.portfolio-grid-overlay {
  max-width: 1400px;
  margin: 0 auto;
  display: grid;
  gap: 24px;
  grid-template-columns: repeat(3, 1fr);
  padding: 0 20px;
}
.portfolio-grid-overlay .tile {
  position: relative;
  aspect-ratio: 1 / 1;
  overflow: hidden;
  border: 1px solid rgba(147, 197, 253, 0.1);
  background: #0D111B;
  transition: all 0.3s ease;
}
.portfolio-grid-overlay .tile img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s ease;
}
.portfolio-grid-overlay .tile-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(11, 14, 20, 0) 0%, rgba(11, 14, 20, 0.9) 100%);
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: 24px;
  opacity: 0;
  transition: opacity 0.3s ease;
}
.portfolio-grid-overlay .tile:hover .tile-overlay { opacity: 1; }
.portfolio-grid-overlay .tile-title {
  color: var(--color-heading);
  font-size: 20px;
  font-weight: 700;
  margin: 0 0 8px 0;
}
.portfolio-grid-overlay .tile-category {
  color: var(--color-accent);
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin: 0;
}
.portfolio-grid-overlay .tile:hover {
  border-color: var(--color-accent);
  transform: translateY(-4px);
  box-shadow: 0 10px 30px rgba(147, 197, 253, 0.2);
}
.portfolio-grid-overlay .tile:hover img { transform: scale(1.05); }

/* Responsive Breakpoints */
@media (max-width: 1024px) { 
  .portfolio-grid-1x1 { grid-template-columns: repeat(2, 1fr); gap: 20px; }
  .portfolio-grid-2col { grid-template-columns: 1fr; gap: 24px; }
  .portfolio-grid-masonry { grid-template-columns: repeat(2, 1fr); gap: 20px; }
  .portfolio-grid-overlay { grid-template-columns: repeat(2, 1fr); gap: 20px; }
}
@media (max-width: 640px) { 
  .portfolio-grid-1x1 { grid-template-columns: 1fr; gap: 16px; }
  .portfolio-grid-masonry { grid-template-columns: 1fr; gap: 16px; }
  .portfolio-grid-masonry .tile.wide { grid-column: span 1; }
  .portfolio-grid-overlay { grid-template-columns: 1fr; gap: 16px; }
}

/* Section Wrapper for Portfolio */
.portfolio-section { 
  padding: 80px 0; 
  background: var(--color-bg-primary);
}
.portfolio-section .section-header { 
  max-width: 1400px; 
  margin: 0 auto 60px; 
  padding: 0 20px;
  text-align: left;
}
.portfolio-section .section-subtitle {
  color: var(--color-accent);
  font-size: 14px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.10em;
  margin-bottom: 12px;
}
.portfolio-section .section-title {
  color: var(--color-heading);
  font-size: clamp(32px, 5vw, 48px);
  font-weight: 700;
  margin: 0;
}
/* Brand Color Variables */
:root {
  --color-bg-primary: #0B0E14; /* Deep Navy */
  --color-action: #1D4ED8;    /* Cobalt */
  --color-accent: #93C5FD;    /* Azure */
  --color-heading: #E7EAEE;   /* Off-white */
  --color-body: #A3AAB4;      /* Slate */
  --color-light: #FAF7F2;     /* Ivory */
}

/* Global Background - Deep Navy for all pages */
body, html {
  background-color: var(--color-bg-primary); /* Deep Navy */
  color: var(--color-heading); /* Off-white text */
  font-family: 'Satoshi', 'Inter', 'SF Pro Display', system-ui, sans-serif;
  /* Enforce numeric styles site-wide */
  font-variant-numeric: lining-nums tabular-nums; /* Prefer lining/tabular numbers */
  font-feature-settings: 'lnum' 1, 'tnum' 1; /* Fallback for browsers without font-variant support */
}

/* Page sections with Deep Navy background */
.section, .gallery, .contact, .services {
  background-color: var(--color-bg-primary); /* Deep Navy */
}

/* Gallery/Portfolio section - Deep Navy background like services */
.gallery {
  background-color: var(--color-bg-primary) !important; /* Deep Navy */
  color: var(--color-heading); /* Off-white text */
}

.gallery .section-subtitle {
  color: var(--color-accent) !important; /* Azure */
}

.gallery .section-title {
  color: var(--color-heading) !important; /* Off-white */
  font-weight: 700 !important; /* Bold weight */
  letter-spacing: 0.02em !important; /* Prevent character overlap */
}

.gallery .section-header {
  color: var(--color-heading); /* Off-white */
}

/* Portfolio page with dark background like services */
.portfolio {
  background-color: var(--color-bg-primary); /* Deep Navy */
}

/* About page exception - will be updated based on user preference */
.about {
  background-color: var(--color-bg-primary); /* Temporary - awaiting user confirmation */
}

/* Global Typography Fixes */
h1, h2, h3, h4, h5, h6 {
  font-weight: 700 !important; /* Bold weight for all headings */
  letter-spacing: 0.02em !important; /* Prevent character overlap */
  font-family: 'Satoshi', 'Inter', 'SF Pro Display', system-ui, sans-serif;
  font-variant-numeric: lining-nums tabular-nums;
  font-feature-settings: 'lnum' 1, 'tnum' 1;
}

h3, .eyebrow, .section-subtitle {
  font-weight: 600 !important; /* Semi-bold for labels */
  letter-spacing: 0.10em !important; /* More spacing for small text */
}

.section-title {
  font-weight: 700 !important; /* Bold weight */
  letter-spacing: 0.02em !important; /* Prevent overlap in titles like "What We Offer" */
}

/* Base Button Styles */
.btn, .btn-primary, .btn-secondary {
  /* Typography */
  font-size: 16px;
  font-weight: 500; /* Medium weight */
  line-height: 1.0;
  text-transform: none; /* Sentence case */
  text-decoration: none;
  font-family: 'Satoshi', 'Inter', 'SF Pro Display', system-ui, sans-serif;
  font-variant-numeric: lining-nums tabular-nums;
  font-feature-settings: 'lnum' 1, 'tnum' 1;
  
  /* Layout */
  padding: 12px 24px; /* 12px vertical, 20-24px horizontal */
  min-height: 44px; /* Touch target */
  border-radius: 8px;
  border: none;
  
  /* Display */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px; /* Icon gap */
  cursor: pointer;
  box-sizing: border-box;
  
  /* Transitions */
  transition: all 300ms ease;
  
  /* Base (no glass) */
}

/* Primary Button (CTA) - Cobalt */
.btn, .btn-primary {
  /* Colors - Default */
  background: var(--color-action); /* Cobalt */
  color: var(--color-heading); /* Off-white */
}

/* Primary Button Hover State */
.btn:hover, .btn-primary:hover {
  background: #1E40AF; /* Cobalt darken ~8% */
  color: var(--color-heading);
}

/* Primary Button Active State */
.btn:active, .btn-primary:active {
  background: #1E3A8A; /* Cobalt darken ~12% */
  color: var(--color-heading);
}

/* Primary Button Focus State */
.btn:focus, .btn-primary:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent), 0 0 0 5px rgba(147, 197, 253, 0.2); /* 2px Azure ring + 2-3px offset */
}

/* Primary Button Disabled State */
.btn:disabled, .btn-primary:disabled {
  background: rgba(29, 78, 216, 0.45); /* Cobalt @ 45% opacity */
  color: rgba(163, 170, 180, 0.7); /* Slate @ 70% opacity */
  cursor: not-allowed;
}

/* Secondary (Ghost Button) - Azure */
.btn-secondary {
  background: transparent;
  color: var(--color-accent); /* Azure text */
  border: 2px solid var(--color-accent); /* 2px Azure border */
}

/* Secondary Button Hover State */
.btn-secondary:hover {
  background: var(--color-bg-primary); /* Deep Navy fill */
  color: var(--color-accent);
  border-color: var(--color-accent);
  text-decoration: underline;
  text-decoration-color: var(--color-accent);
  text-underline-offset: 4px;
}

/* Secondary Button Active State */
.btn-secondary:active {
  background: var(--color-bg-primary);
  color: #7DD3FC; /* Azure reduced ~10% luminance */
  border-color: #7DD3FC;
}

/* Secondary Button Focus State */
.btn-secondary:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent); /* 2px Azure ring */
}

/* Secondary Button Disabled State */
.btn-secondary:disabled {
  background: transparent;
  color: rgba(147, 197, 253, 0.45);
  border-color: rgba(147, 197, 253, 0.45);
  cursor: not-allowed;
}

/* Legacy Support - .btn.secondary class */
.btn.secondary {
  background: transparent;
  color: var(--color-accent);
  border: 2px solid var(--color-accent);
}

.btn.secondary:hover {
  background: var(--color-bg-primary);
  color: var(--color-accent);
  border-color: var(--color-accent);
  text-decoration: underline;
  text-decoration-color: var(--color-accent);
  text-underline-offset: 4px;
}

.btn.secondary:active {
  background: var(--color-bg-primary);
  color: #7DD3FC;
  border-color: #7DD3FC;
}

.btn.secondary:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent);
}

.btn.secondary:disabled {
  background: transparent;
  color: rgba(147, 197, 253, 0.45);
  border-color: rgba(147, 197, 253, 0.45);
  cursor: not-allowed;
}

/* ================================ */
/* Navigation: Azure hover buttons   */
/* Turn non-dropdown nav links into  */
/* azure pills on hover/focus.       */
/* ================================ */
/* Default: make nav links look like buttons (solid cobalt) */
/* Revert: nav links default to minimal (no default cobalt background) */
.nav .links a,
.nav .links .dropdown-toggle,
header.nav .links a {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 8px 16px;
  border-radius: 20px;
  background: transparent !important;
  color: var(--color-heading) !important;
  text-decoration: none !important;
  transition: all 0.3s ease;
}

/* Hover: Azure fill for non-dropdown items (keeps Our Projects behavior intact) */
header.nav .links a:hover:not(.dropdown-toggle),
header.nav .links a:focus:not(.dropdown-toggle) {
  background: var(--color-accent) !important; /* Azure */
  color: var(--color-bg-primary) !important;  /* Deep Navy text on Azure */
  text-decoration: none !important;           /* Remove underlines defined inline */
  border-radius: 20px;                        /* Pill shape matches Our Projects */
}
/* Click (active) state also Azure for non-dropdown items */
header.nav .links a:active:not(.dropdown-toggle) {
  background: var(--color-accent) !important; /* Azure */
  color: var(--color-bg-primary) !important;  /* Deep Navy */
  border-radius: 20px;
}

/* Focus ring for nav links (keyboard accessibility) */
.nav .links a:focus,
.nav .links .dropdown-toggle:focus,
header.nav .links a:focus {
  outline: none !important;
  box-shadow: 0 0 0 2px var(--color-accent), 0 0 0 5px rgba(147, 197, 253, 0.2) !important;
}

/* Mobile overlay links: transparent by default with light sheen on hover */
.mobile-link,
.mobile-dropdown-btn {
  position: relative;
  background: transparent !important;
  color: var(--color-heading) !important;     /* Off-white */
  border-radius: 12px !important;
  text-decoration: none !important;
  transition: transform 0.2s ease, color 0.2s ease !important;
}
.mobile-link::after,
.mobile-dropdown-btn::after {
  content: "";
  position: absolute; inset: 0;
  pointer-events: none;
  background: linear-gradient(120deg,
              rgba(255,255,255,0.00) 10%,
              rgba(255,255,255,0.22) 25%,
              rgba(255,255,255,0.35) 32%,
              rgba(255,255,255,0.22) 40%,
              rgba(255,255,255,0.00) 55%);
  background-size: 200% 100%;
  background-position: 200% 0;
  mix-blend-mode: screen;
  opacity: 0;
  transition: opacity .2s ease;
  border-radius: inherit;
}
.mobile-link:hover::after,
.mobile-dropdown-btn:hover::after,
.mobile-link:active::after,
.mobile-dropdown-btn:active::after {
  opacity: 1;
  animation: cardSheen 1.2s ease-out forwards;
}
.mobile-link:hover,
.mobile-dropdown-btn:hover { color: var(--color-heading) !important; }
.mobile-link:active,
.mobile-dropdown-btn:active { transform: scale(0.98) !important; }
.mobile-link:focus,
.mobile-dropdown-btn:focus {
  outline: none !important;
  box-shadow: 0 0 0 2px rgba(255,255,255,0.28), 0 0 0 5px rgba(255,255,255,0.14) !important;
}

/* Do NOT style the brand logo link as a button on hover/click */
.nav .brand a,
.nav .brand a:hover,
.nav .brand a:active,
.nav .brand a:focus,
.nav .brand a:visited,
header.nav .brand a,
header.nav .brand a:hover,
header.nav .brand a:active,
header.nav .brand a:focus,
header.nav .brand a:visited {
  background: transparent !important;
  color: inherit !important;
  transform: none !important;
  border-radius: 0 !important;
  text-decoration: none !important;
}

/* Desktop Dropdown: hidden by default; visible on hover/active */
header.nav .links .dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 220px;
  background: #0B0E14;
  backdrop-filter: none;
  border-radius: 12px;
  padding: 6px 0;
  border: 1px solid rgba(147, 197, 253, 0.2);
  box-shadow: 0 10px 24px rgba(0,0,0,0.3);
  /* Hidden by default */
  display: none;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transform: translateY(-10px);
  transition: all 0.3s ease;
  z-index: 1001;
}

/* Mega dropdown for Our Projects */
header.nav .links .dropdown-menu.mega-projects {
  width: min(720px, calc(100vw - 32px));
  padding: 12px;
  left: 50% !important;
  right: auto !important;
  transform: translate(-50%, -10px); /* start slightly above for transition */
}
header.nav .links .dropdown-menu.mega-projects .projects-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(220px, 1fr));
  gap: 12px;
}
header.nav .links .dropdown-menu.mega-projects .proj-card {
  display: grid;
  grid-template-rows: 140px auto;
  background: #0D111B;
  border: 1px solid rgba(147, 197, 253, 0.2);
  border-radius: 10px;
  overflow: hidden;
  text-decoration: none;
  position: relative;
  transition: transform .25s ease, border-color .2s ease, box-shadow .25s ease, opacity .25s ease;
}
/* Feather (soft glow) overlay */
/* Neutral glass shining sheen (no blue tint) */
header.nav .links .dropdown-menu.mega-projects .proj-card::after {
  content: "";
  position: absolute; inset: 0;
  pointer-events: none;
  background: linear-gradient(120deg,
              rgba(255,255,255,0.00) 10%,
              rgba(255,255,255,0.22) 25%,
              rgba(255,255,255,0.35) 32%,
              rgba(255,255,255,0.22) 40%,
              rgba(255,255,255,0.00) 55%);
  background-size: 200% 100%;
  background-position: 200% 0;
  mix-blend-mode: screen;
  opacity: 0;
  transition: opacity .25s ease;
}
header.nav .links .dropdown-menu.mega-projects .proj-card .thumb {
  background-size: cover;
  background-position: center;
}
/* Reliable image-based thumbs */
header.nav .links .dropdown-menu.mega-projects .proj-card .thumb-img {
  width: 100%;
  height: 140px;
  object-fit: cover;
  display: block;
}
header.nav .links .dropdown-menu.mega-projects .proj-card .label {
  padding: 12px 14px;
  color: var(--color-heading);
  font-weight: 700;
  letter-spacing: 0.02em;
}
header.nav .links .dropdown-menu.mega-projects .proj-card:hover {
  transform: translateY(-2px);
  border-color: rgba(255, 255, 255, 0.28);
  box-shadow: 0 8px 22px rgba(0,0,0,.22);
}
header.nav .links .dropdown-menu.mega-projects .proj-card:hover::after {
  opacity: 1; /* show neutral light sheen */
  animation: cardSheen 1.6s ease-out forwards;
}

@keyframes cardSheen {
  0%   { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Mobile: convert mega dropdown to simple stacked links within overlay */
@media (max-width: 1024px) {
  header.nav .links .dropdown-menu.mega-projects { width: 100%; padding: 8px; }
  header.nav .links .dropdown-menu.mega-projects .projects-grid { grid-template-columns: 1fr; }
}

header.nav .links .dropdown:hover .dropdown-menu,
header.nav .links .dropdown.active .dropdown-menu {
  display: block;
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transform: translateY(0);
}

/* Ensure the mega dropdown centers on show */
header.nav .links .dropdown:hover .dropdown-menu.mega-projects,
header.nav .links .dropdown.active .dropdown-menu.mega-projects {
  transform: translate(-50%, 0);
}

/* Mobile: allow dropdown menu to be visible within mobile overlay */
@media (max-width: 1024px) {
  header.nav .links .dropdown-menu {
    position: static;
    display: block;           /* visible within the overlay */
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: none;
    background: rgba(29, 78, 216, 0.1);
    border: none;
    border-radius: 8px;
    box-shadow: none;
    margin-top: 10px;
  }
}

/* Standardize brand logo sizing across pages */
header.nav .brand a { display: inline-block; padding: 0; }
header.nav .brand img {
  height: 200px !important; /* desktop: override any inline height */
  width: auto;
  display: inline-block;
  vertical-align: middle;
}
@media (max-width: 768px) {
  header.nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-left: 20px;
    padding-right: 20px;
  }
  header.nav .brand img {
    height: 60px !important;
    max-width: 150px;
  }
}

/* Button Size Variants */
.btn-small, .btn.small {
  font-size: 14px;
  padding: 8px 16px;
  min-height: 36px;
}

.btn-large, .btn.large {
  font-size: 16px;
  padding: 14px 28px;
  min-height: 48px;
}

/* Icon Support */
.btn .icon, .btn-primary .icon, .btn-secondary .icon {
  width: 18px;
  height: 18px;
  flex-shrink: 0;
}

.btn-large .icon, .btn.large .icon {
  width: 20px;
  height: 20px;
}

/* Small Button Variant */
.btn-small, .btn.small {
  font-size: 13px;
  padding: 8px 16px;
  min-height: 36px;
  border-radius: 6px;
}

/* Text Color Utilities */
.text-azure {
  color: var(--color-accent) !important; /* #93C5FD */
}

/* Section subtitle with Azure color override */
.section-subtitle.text-azure {
  color: var(--color-accent); /* #93C5FD */
}

/* Editorial Minimalist Info Boxes - Dark Theme (Default) */
.info-box, .card, .panel {
  background: #0D111B; /* Panel variant - slightly lighter than Deep Navy */
  border: 1px solid rgba(163, 170, 180, 0.25); /* Slate at 25% opacity */
  border-radius: 0; /* No rounded corners for editorial feel */
  padding: 24px;
  transition: all 0.2s ease-in-out;
  cursor: pointer;
  box-shadow: none; /* No shadows for minimalist approach */
}

.info-box:hover, .card:hover, .panel:hover {
  background: #111827; /* Lighter hover background */
  border: 2px solid var(--color-accent); /* 2px Azure border on hover */
  transform: none; /* No transform for editorial minimalism */
  box-shadow: none; /* No shadows */
}

/* Portfolio Page Info Boxes - Dark Theme like Services */
.portfolio .info-box, .portfolio .card, .portfolio .panel {
  background: #0D111B; /* Panel variant - slightly lighter than Deep Navy */
  border: 1px solid rgba(163, 170, 180, 0.25); /* Slate at 25% opacity */
  color: var(--color-heading); /* Off-white text */
}

.portfolio .info-box:hover, .portfolio .card:hover, .portfolio .panel:hover {
  background: #111827; /* Lighter hover background */
  border: 2px solid var(--color-accent); /* Azure border on hover */
}

/* Info Box Typography - Editorial Hierarchy - Dark Theme */
.info-box .eyebrow, .card .eyebrow, .panel .eyebrow,
.info-box h3, .card h3, .panel h3 {
  color: var(--color-accent); /* Azure */
  font-size: 14px;
  font-weight: 600; /* Semi-bold for labels */
  text-transform: uppercase;
  letter-spacing: 0.10em; /* Increased spacing */
  margin-bottom: 8px;
}

.info-box .title, .card .title, .panel .title,
.info-box h2, .card h2, .panel h2 {
  color: var(--color-heading); /* Off-white */
  font-size: 32px;
  font-weight: 700; /* Bold weight */
  letter-spacing: 0.02em; /* Increased spacing to prevent overlap */
  margin-bottom: 16px;
  line-height: 1.2;
}

.info-box .body, .card .body, .panel .body,
.info-box p, .card p, .panel p {
  color: var(--color-body); /* Slate */
  font-size: 17px;
  font-weight: 400; /* Regular weight */
  line-height: 1.6;
  margin-bottom: 24px;
}

/* Portfolio Page Typography - Dark Theme like Services */
.portfolio .info-box .eyebrow, .portfolio .card .eyebrow, .portfolio .panel .eyebrow,
.portfolio .info-box h3, .portfolio .card h3, .portfolio .panel h3 {
  color: var(--color-accent); /* Azure */
  font-weight: 600 !important; /* Semi-bold for labels */
  letter-spacing: 0.10em !important; /* More spacing for small text */
}

.portfolio .info-box .title, .portfolio .card .title, .portfolio .panel .title,
.portfolio .info-box h2, .portfolio .card h2, .portfolio .panel h2 {
  color: var(--color-heading); /* Off-white for titles */
  font-weight: 700 !important; /* Bold weight */
  letter-spacing: 0.02em !important; /* Prevent character overlap */
}

.portfolio .info-box .body, .portfolio .card .body, .portfolio .panel .body,
.portfolio .info-box p, .portfolio .card p, .portfolio .panel p {
  color: var(--color-body); /* Slate for body text */
}

/* CTA Links - Azure with underline on hover */
.info-box .cta-link, .card .cta-link, .panel .cta-link,
.info-box a, .card a, .panel a {
  color: var(--color-accent); /* Azure */
  text-decoration: none;
  transition: all 0.2s ease;
}

.info-box .cta-link:hover, .card .cta-link:hover, .panel .cta-link:hover,
.info-box a:hover, .card a:hover, .panel a:hover {
  text-decoration: underline;
}

/* Portfolio Page CTA Links - Azure on dark background */
.portfolio .info-box .cta-link, .portfolio .card .cta-link, .portfolio .panel .cta-link,
.portfolio .info-box a, .portfolio .card a, .portfolio .panel a {
  color: var(--color-accent); /* Azure */
}

/* Portfolio Page Text Colors - Dark Theme */
.portfolio {
  color: var(--color-body); /* Slate text on dark background */
}

.portfolio h1, .portfolio h2, .portfolio h3, .portfolio h4, .portfolio h5, .portfolio h6 {
  color: var(--color-heading); /* Off-white headings */
}

.portfolio p, .portfolio span, .portfolio div {
  color: var(--color-body); /* Slate body text */
}

/* =============================== */
/* Responsive Hero Visibility      */
/* Desktop first: show desktop, hide mobile wrapper */
/* =============================== */
.hero-desktop { display: block; }
.hero-mobile { display: none; }
.hero-mobile-wrapper { display: none; }

/* Mobile: show new hero wrapper */
@media (max-width: 768px) {
  .hero-desktop { display: none; }
  .hero-mobile { display: block; }

  /* ================================ */
  /* New Mobile Hero: Image Slider    */
  /* ================================ */
  .hero-mobile {
    position: relative;
    width: 100%;
    overflow: hidden;
    aspect-ratio: 4 / 3; /* Actual rectangle ratio of the images */
    background: var(--color-bg-primary);
  }

  .hero-mobile .slider-track {
    display: flex;
    width: 300%; /* 100% for each of the 3 slides */
    height: 100%;
    animation: slide-animation 15s ease-in-out infinite;
    position: relative;
    will-change: transform;
    backface-visibility: hidden;
    transform: translateZ(0);
    contain: layout paint;
  }

  .hero-mobile .slide {
    width: 33.333%;
    flex: 0 0 33.333%;
    height: 100%;
    background-size: cover; /* Fills the container */
    background-position: center;
    overflow: hidden; /* Ensure slide strictly clips its content */
    backface-visibility: hidden;
    transform: translateZ(0);
    contain: layout paint;
    isolation: isolate;
  }

  .hero-mobile .hero-content-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: center;
    z-index: 5;
    padding: 40px 20px 80px;
  }

  .hero-mobile .taglines {
    margin-bottom: 24px;
    display: none; /* Hide static tagline since we're using dynamic one */
  }

  .hero-mobile .tagline {
    font-size: clamp(32px, 6vw, 48px);
    font-weight: 700;
    color: var(--color-heading);
    text-shadow: 0 2px 8px rgba(0,0,0,0.5);
    text-align: center;
  }

  .hero-mobile .cta {
    display: flex;
    flex-direction: column;
    gap: 16px;
    align-items: center;
  }

  .hero-mobile .btn {
    min-width: 200px;
  }
}

@keyframes slide-animation {
  0% { transform: translateX(0%); }
  30% { transform: translateX(0%); }
  33% { transform: translateX(-33.333%); }
  63% { transform: translateX(-33.333%); }
  66% { transform: translateX(-66.666%); }
  97% { transform: translateX(-66.666%); }
  100% { transform: translateX(0%); }
}

/* Dynamic text updates during slider animation */
.hero-mobile .slider-track {
  animation: slide-animation 15s ease-in-out infinite, text-sync 15s ease-in-out infinite;
}

  /* Disable injected pseudo text on mobile slider to prevent overlap */
  .hero-mobile .slider-track::before {
    content: none !important;
    display: none !important;
  }

/* Remove keyframes that mutate pseudo content on mobile slider */
@keyframes text-sync {}

/* ========= Mobile slider: definitive visibility gating ========= */
/* Hide all slide contents by default; reveal only active one per timeline */
.hero-mobile .slide-content {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  will-change: opacity;
  transition: opacity 280ms ease;
}

/* Slide 1 content visible during first phase */
.hero-mobile .slide:nth-child(1) .slide-content {
  animation: mobile-slide-content-1 15s ease-in-out infinite;
}

/* Slide 2 content visible during middle phase */
.hero-mobile .slide:nth-child(2) .slide-content {
  animation: mobile-slide-content-2 15s ease-in-out infinite;
}

/* Slide 3 content visible during last phase */
.hero-mobile .slide:nth-child(3) .slide-content {
  animation: mobile-slide-content-3 15s ease-in-out infinite;
}

@keyframes mobile-slide-content-1 {
  0%, 30%   { opacity: 1; visibility: visible; }
  31%, 99%  { opacity: 0; visibility: hidden; }
  100%      { opacity: 1; visibility: visible; }
}

@keyframes mobile-slide-content-2 {
  0%, 32%   { opacity: 0; visibility: hidden; }
  33%, 63%  { opacity: 1; visibility: visible; }
  64%, 100% { opacity: 0; visibility: hidden; }
}

@keyframes mobile-slide-content-3 {
  0%, 65%   { opacity: 0; visibility: hidden; }
  66%, 97%  { opacity: 1; visibility: visible; }
  98%, 100% { opacity: 0; visibility: hidden; }
}

/* Mobile: show new hero wrapper */
@media (max-width: 768px) {
  .hero-desktop { display: none; }
  .hero-mobile {
    display: block;
    margin-top: 80px;
  }
  .hero-mobile-wrapper {
    display: flex;
    flex-direction: column;
    height: calc(100vh - 80px);
    width: 100%;
    background: var(--color-bg-primary);
  }
}

/* =============================== */
/* Mobile Hero: Vertical Slider    */
/* =============================== */
@media (max-width: 768px) {
  /* --- Mobile Hero Wrapper --- */
  .hero-mobile-wrapper {
    display: flex;
    flex-direction: column;
    height: calc(100vh - 80px); /* Adjust for fixed navigation */
    background-color: #0c0c0f; /* Ensure background if content doesn't fill */
  }

  /* --- NEW: Top Text Container --- */
  .hero-top-text-container {
    padding: 20px; /* Space around the top text */
    text-align: center;
    color: white;
  }

  .main-mobile-hero-heading {
    font-size: 2.8rem; /* Adjust as needed */
    font-weight: bold;
    margin: 0; /* Remove default margins */
  }

  /* --- Slider Container (now below the top text) --- */
  .hero-slider-container {
    width: 100%;
    flex-grow: 1; /* This makes the slider take up available space */
    overflow: hidden;
    position: relative;
    background: #000; /* fallback while images load */
  }

  .hero-slider-container .slider-track {
    display: flex;
    height: 100%;
    width: 300%; /* 3 slides */
    /* Disable auto keyframe animation; JS controls transitions */
    animation: none !important;
  }

  .hero-slider-container .slide {
    width: 100%;
    height: 100%;
    flex-shrink: 0;
    position: relative;
    background-size: cover;
    background-position: center;
    overflow: hidden;
    backface-visibility: hidden;
    transform: translate3d(0, 0, 0);
  }

  .hero-slider-container .slide-content {
    position: absolute;
    inset: 0;
    padding: 24px;
    display: flex;
    flex-direction: column;
    justify-content: center; /* Center the hero text vertically */
    align-items: center; /* Center horizontally */
    color: #fff;
    background: linear-gradient(135deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 50%, rgba(0,0,0,0.7) 100%);
    backdrop-filter: none; /* 0% blur - completely clear images */
    z-index: 10;
  }

  .hero-slider-container .slide-hero-text {
    font-size: clamp(28px, 8vw, 48px);
    line-height: 1.2;
    text-transform: uppercase;
    color: var(--color-heading);
    margin: 0;
    font-weight: 700;
    letter-spacing: 0.02em;
    text-align: center;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    width: 100%;
    padding: 0 10px;
  }

  /* Repositioned subtext: visible under hero text */
  .hero-slider-container .slide-tag {
    margin-top: 1rem;
    font-size: 1rem;
    max-width: 90%;
    line-height: 1.5;
    color: var(--color-heading);
    text-align: center;
    margin-left: auto;
    margin-right: auto;
  }

  /* --- Buttons Container (at the bottom) --- */
  .hero-buttons-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 25px 20px;
    align-items: center;
    background-color: #0c0c0f;
  }

  @keyframes new-slide-animation {
    0% { transform: translateX(0%); }
    30% { transform: translateX(0%); }
    33% { transform: translateX(-100%); }
    63% { transform: translateX(-100%); }
    66% { transform: translateX(-200%); }
    97% { transform: translateX(-200%); }
    100% { transform: translateX(0%); }
  }
}

/* Service Cards - Keep existing functionality but update styling */
.service-card {
  background: #0D111B !important;
  border: 1px solid rgba(163, 170, 180, 0.25) !important;
  border-radius: 0 !important; /* Editorial minimalism */
  padding: 24px !important;
  transition: all 0.2s ease-in-out;
  cursor: pointer;
  box-shadow: none !important;
}

.service-card:hover {
  background: #111827 !important;
  border: 2px solid var(--color-accent) !important;
  transform: none !important; /* No transform */
  box-shadow: none !important; /* No shadows */
}

/* ------------------------------ */
/* Global Cobalt Click Interactions */
/* Applies consistent active-state feedback across pages */
/* ------------------------------ */

/* Desktop navigation links (exclude brand and dropdown toggle handled elsewhere) */
.nav .links a:active,
/* Dropdown menu items */
.dropdown-menu a:active,
/* Mobile overlay links */
.mobile-link:active,
/* Mobile dropdown trigger */
.mobile-dropdown-btn:active {
  background: var(--color-action); /* Cobalt */
  color: var(--color-heading);     /* Off-white */
  transform: scale(0.95);
}

/* Mobile dropdown trigger */
.mobile-dropdown-btn:active {
  background: var(--color-action); /* Cobalt */
  color: var(--color-heading);     /* Off-white */
  transform: scale(0.95);
}

/* ------------------------------ */
/* Persistent Active Nav State */
/* Highlights current page link as a cobalt button */
/* ------------------------------ */

.nav .links a.active,
.dropdown-menu a.active,
.dropdown .dropdown-toggle.active {
  background: var(--color-action); /* Cobalt */
  color: var(--color-heading);     /* Off-white */
  border-radius: 20px;
}

/* ===================================== */
/* Responsive Base: Fit all viewports     */
/* ===================================== */

/* 1) Universal box-sizing for predictable layout */
* , *::before, *::after { box-sizing: border-box; }

/* 2) Prevent horizontal scroll on small screens (safeguard) */
html, body { max-width: 100%; overflow-x: hidden; }

/* 3) Fluid media – images, videos, iframes scale to container */
img, svg, video, canvas, iframe {
  max-width: 100%;
  height: auto;
  display: block;
}

/* 4) Forms and tables should not overflow on mobile */
table { width: 100%; border-collapse: collapse; }
input, select, textarea, button { max-width: 100%; }

/* Reinforce Satoshi + numeric features on common text elements */
p, a, li, label, input, select, textarea, button, small, .eyebrow, .section-subtitle, .section-title, .info-box, .card, .panel {
  font-family: 'Satoshi', 'Inter', 'SF Pro Display', system-ui, sans-serif;
  font-variant-numeric: lining-nums tabular-nums;
  font-feature-settings: 'lnum' 1, 'tnum' 1;
}

/* Shared Lightbox footnote banner (used by multiple pages) */
.lightbox-footnote {
  margin-top: 16px;
  color: var(--color-heading);
  font-size: 18px;
  line-height: 1.6;
  /* Use flex layout to vertically center eyebrow and description */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  /* glass/mica base: translucent with subtle tint so it reads over dark backdrop */
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  -webkit-backdrop-filter: blur(8px) saturate(120%);
  backdrop-filter: blur(8px) saturate(120%);
  background-color: rgba(15,18,24,0.36); /* slight dark tint to improve contrast */
  padding: 16px 20px;
  /* stronger rounding so the bottom appears curved (not flat) */
  border-radius: 24px;
  /* keep the banner narrower than the modal so the curve is visible on both sides */
  max-width: min(1100px, 96%);
  margin: 0 auto;
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 14px 48px rgba(11,14,20,0.66), inset 0 1px 0 rgba(255,255,255,0.02);
  max-height: 320px;
  overflow: auto;
  width: 100%;
  font-style: normal;
  letter-spacing: 0.01em;
  position: relative; /* required for shimmer positioning */
  overflow: hidden; /* clip shimmer inside the banner */
  transition: transform 240ms cubic-bezier(0.2,0.9,0.2,1), box-shadow 240ms ease, border-color 240ms ease, background 240ms ease;
  will-change: transform, box-shadow;
}

.lightbox-footnote::before {
  content: "Details";
  display: block;
  font-size: 12px;
  color: var(--color-accent, #93C5FD);
  font-weight: 700;
  font-family: 'Satoshi', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.14em;
  margin: 0 0 6px 0;
  text-align: center;
  width: 100%;
}

.lightbox-footnote .footnote-desc {
  font-family: 'Satoshi', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  font-size: 22px;
  color: var(--color-heading);
  font-weight: 600;
  display: block;
  margin: 0;
  padding: 0 8px;
  text-shadow: 0 8px 22px rgba(11,14,20,0.5);
  max-width: 96%;
}

/* Focus-only interactions; hover interactions were intentionally removed */
.lightbox-footnote:focus-visible {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 20px 50px rgba(11,14,20,0.7);
  border-color: rgba(147,197,253,0.18);
  background: linear-gradient(180deg, rgba(147,197,253,0.06), rgba(11,14,20,0.04));
  outline: 3px solid rgba(147,197,253,0.12);
}

.lightbox-footnote:focus-visible::before {
  color: var(--color-accent);
  transform: translateY(-2px);
}

.lightbox-footnote:focus-visible .footnote-desc {
  text-shadow: 0 10px 30px rgba(11,14,20,0.6);
  letter-spacing: 0.02em;
}

/* Shimmer + pulse, disabled for reduced motion */
.lightbox-footnote::after {
  /* fill the banner and let the banner's overflow: hidden + border-radius fully contain the sheen */
  content: "";
  position: absolute;
  inset: 0; /* top:0; right:0; bottom:0; left:0 */
  background: linear-gradient(90deg, rgba(255,255,255,0.00) 0%, rgba(255,255,255,0.18) 50%, rgba(255,255,255,0.00) 100%);
  /* create an angled strip by rotating the full-size layer; translation animates the strip across the banner */
  transform: translateX(-150%) rotate(-12deg);
  transform-origin: center;
  pointer-events: none;
  filter: blur(6px) saturate(110%);
  opacity: 0;
  transition: opacity 220ms ease;
  mix-blend-mode: overlay;
  border-radius: inherit; /* stay inside rounded corners */
  will-change: transform, opacity;
}

.lightbox-footnote:hover::after,
.lightbox-footnote:focus-visible::after {
  animation: shimmer 900ms ease-in-out forwards;
  opacity: 1;
}

@keyframes shimmer {
  0% { transform: translateX(-150%) rotate(-12deg); opacity: 0; }
  30% { opacity: 0.95; }
  55% { opacity: 0.9; }
  100% { transform: translateX(150%) rotate(-12deg); opacity: 0; }
}

@keyframes footnotePulse {
  0% { box-shadow: 0 18px 44px rgba(11,14,20,0.62); }
  50% { box-shadow: 0 26px 60px rgba(11,14,20,0.7); }
  100% { box-shadow: 0 18px 44px rgba(11,14,20,0.62); }
}

@media (prefers-reduced-motion: reduce) {
  .lightbox-footnote::after,
  .lightbox-footnote:focus-visible::after,
  .lightbox-footnote:hover,
  .lightbox-footnote:focus-visible {
    animation: footnotePulse 1400ms ease-in-out 1;
  }
}

/* Centralized lightbox layout adjustments to keep the Details banner visible */
.lightbox-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(11,14,20,0.95);
  backdrop-filter: blur(8px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
}

.lightbox-modal.active { opacity: 1; visibility: visible; }

.lightbox-content {
  width: 84vw;
  max-width: 1200px;
  max-height: 85vh; /* overall modal cap */
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  padding: 12px;
  box-sizing: border-box;
  overflow: hidden; /* avoid pseudo-element overflow visual leaking */
  position: relative; /* anchor for absolutely positioned children */
}

.lightbox-content img, .lightbox-content .lightbox-image, .lightbox-content #lightboxImage {
  width: 100%;
  height: auto;
  /* Reserve space for banner: subtract an approximate banner height (140px) */
  max-height: calc(85vh - 140px);
  object-fit: contain;
  border: 2px solid rgba(147,197,253,0.18);
  border-radius: 8px;
  display: block;
}

@media (max-width: 768px) {
  .lightbox-content { width: 92vw; padding: 8px; }
  .lightbox-content img, .lightbox-content .lightbox-image, .lightbox-content #lightboxImage { max-height: calc(70vh - 120px); }
  .lightbox-footnote { max-height: 180px; }
}

/* Ensure the close button is visible and positioned inside the modal content */
.lightbox-content > .lightbox-close,
.lightbox-modal .lightbox-content .lightbox-close,
.lightbox .lightbox-content .lightbox-close {
  position: absolute !important;
  top: 12px !important;
  right: 12px !important;
  background: rgba(147,197,253,0.18) !important;
  border: 2px solid rgba(147,197,253,0.45) !important;
  color: #93C5FD !important;
  font-size: 28px !important;
  width: 44px !important;
  height: 44px !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: transform 240ms ease, background 240ms ease, border-color 240ms ease !important;
  z-index: 10050 !important;
}

.lightbox-content > .lightbox-close:hover,
.lightbox-modal .lightbox-content .lightbox-close:hover,
.lightbox .lightbox-content .lightbox-close:hover {
  transform: rotate(90deg) !important;
  background: rgba(147,197,253,0.28) !important;
  border-color: #93C5FD !important;
}

@media (max-width: 768px) {
  .lightbox-content > .lightbox-close,
  .lightbox-modal .lightbox-content .lightbox-close,
  .lightbox .lightbox-content .lightbox-close {
    top: 8px !important;
    right: 8px !important;
    width: 40px !important;
    height: 40px !important;
    font-size: 22px !important;
  }
}


/* 5) Responsive container utility */
.container,
.page-container,
.content-container {
  width: 100%;
  max-width: 1200px; /* Comfortable readable width */
  margin: 0 auto;
  padding-left: 16px;
  padding-right: 16px;
}

@media (min-width: 768px) {
  .container, .page-container, .content-container {
    padding-left: 24px;
    padding-right: 24px;
  }
}

/* 6) Mobile-friendly typography */
body {
  font-size: clamp(15px, 1.6vw, 18px);
  line-height: 1.5;
  -webkit-text-size-adjust: 100%; /* Avoid iOS font auto-zoom */
}

h1 { font-size: clamp(28px, 5.5vw, 40px); line-height: 1.2; }
h2 { font-size: clamp(24px, 4.5vw, 32px); line-height: 1.25; }
h3 { font-size: clamp(20px, 3.5vw, 24px); line-height: 1.3; }

/* 7) Section spacing that adapts */
.section, .gallery, .contact, .services, .main, .page-section {
  padding-top: clamp(24px, 5vw, 64px);
  padding-bottom: clamp(24px, 5vw, 64px);
}

/* 8) Navigation layout safeguards */
header.nav .links {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap; /* allow wrap on narrow screens */
}
/* Make dropdown positioning reliable */
header.nav .links .dropdown { position: relative; }

/* Ensure header and dropdown are never clipped and sit above content */
header.nav { z-index: 3000; }
header.nav, header.nav .links, header.nav .links .dropdown { overflow: visible; }

/* Ensure dropdown menus don’t cause overflow on mobile */
@media (max-width: 768px) {
  header.nav .links .dropdown { width: 100%; }
  header.nav .links .dropdown .dropdown-menu { width: 100%; }
}

/* ------------------------------------------ */
/* Global mobile menu (hamburger + overlay)   */
/* Applies to all pages that include elements  */
/* .hamburger-menu and .mobile-overlay        */
/* ------------------------------------------ */

/* Hide hamburger on wide view by default */
.hamburger-menu { display: none; position: relative; z-index: 9999; }
header.nav .hamburger-menu { margin-left: auto; }
.hamburger-icon { width: 30px; height: 24px; cursor: pointer; display: flex; flex-direction: column; justify-content: space-between; transition: all 0.4s ease; }
.hamburger-icon .line { width: 100%; height: 3px; background: var(--color-action); border-radius: 2px; transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55); transform-origin: center; }
.hamburger-menu.active .line1 { transform: rotate(45deg) translate(6px, 6px); }
.hamburger-menu.active .line2 { opacity: 0; transform: scaleX(0); }
.hamburger-menu.active .line3 { transform: rotate(-45deg) translate(6px, -6px); }

/* Overlay base (hidden by default) */
.mobile-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: #0B0E14; display: none; align-items: center; justify-content: center; opacity: 0; visibility: hidden; transition: all 0.4s ease; z-index: 9998; }
.hamburger-menu.active .mobile-overlay { display: flex; opacity: 1; visibility: visible; }
.mobile-close { position: absolute; top: 12px; right: 16px; width: 36px; height: 36px; border-radius: 50%; border: 1px solid var(--color-action); background: transparent; color: var(--color-action); font-size: 20px; line-height: 1; display: inline-flex; align-items: center; justify-content: center; cursor: pointer; z-index: 10000; transition: background .2s ease, border-color .2s ease, color .2s ease; }
.mobile-close:hover { background: rgba(29, 78, 216, 0.15); border-color: var(--color-action); color: var(--color-action); }
.mobile-close:focus { outline: none; box-shadow: 0 0 0 2px var(--color-action), 0 0 0 5px rgba(29, 78, 216, 0.25); }
.mobile-nav { display: flex; flex-direction: column; align-items: center; gap: 24px; padding: 40px; }
.mobile-section-label { color: var(--color-accent); font-size: 12px; font-weight: 700; letter-spacing: 0.12em; text-transform: uppercase; margin-top: 6px; }
.mobile-link { font-size: 24px !important; font-weight: 500 !important; color: var(--color-heading) !important; text-decoration: none !important; padding: 15px 30px !important; border-radius: 12px !important; transition: all 0.3s ease !important; text-align: center !important; min-width: 200px !important; } /* FORCE FIX: Standardized mobile link font size */

/* FORCE OVERRIDE: Ensure mobile link font size is always 24px */
.mobile-nav .mobile-link,
.mobile-overlay .mobile-link,
.hamburger-menu .mobile-link,
nav .mobile-link,
a.mobile-link {
  font-size: 24px !important;
  font-weight: 500 !important;
  padding: 15px 30px !important;
  min-width: 200px !important;
  text-align: center !important;
}

/* FORCE OVERRIDE: Media query overrides */
@media (max-width: 1024px) {
  .mobile-nav .mobile-link,
  .mobile-overlay .mobile-link,
  .hamburger-menu .mobile-link,
  nav .mobile-link,
  a.mobile-link {
    font-size: 24px !important;
    font-weight: 500 !important;
    padding: 15px 30px !important;
    min-width: 200px !important;
    text-align: center !important;
  }
}

@media (max-width: 768px) {
  .mobile-nav .mobile-link,
  .mobile-overlay .mobile-link,
  .hamburger-menu .mobile-link,
  nav .mobile-link,
  a.mobile-link {
    font-size: 24px !important;
    font-weight: 500 !important;
    padding: 15px 30px !important;
    min-width: 200px !important;
    text-align: center !important;
  }
}

@media (max-width: 480px) {
  .mobile-nav .mobile-link,
  .mobile-overlay .mobile-link,
  .hamburger-menu .mobile-link,
  nav .mobile-link,
  a.mobile-link {
    font-size: 20px !important;
    font-weight: 500 !important;
    padding: 15px 30px !important;
    min-width: 180px !important;
    text-align: center !important;
  }
}
.mobile-link:hover { background: rgba(29, 78, 216, 0.18); color: var(--color-action); }
.mobile-dropdown-section { display: flex; flex-direction: column; align-items: center; }
.mobile-dropdown-btn { font-size: 22px; font-weight: 500; color: var(--color-heading); background: none; border: none; padding: 14px 24px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 10px; transition: all 0.3s ease; }
.mobile-arrow { transition: transform 0.3s ease; font-size: 16px; }
.mobile-dropdown-section.active .mobile-arrow { transform: rotate(180deg); }
.mobile-dropdown-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; display: flex; flex-direction: column; align-items: center; gap: 10px; margin-top: 10px; }
.mobile-dropdown-section.active .mobile-dropdown-content { max-height: 240px; }

/* Breakpoint: show hamburger and overlay UI, hide desktop links */
@media (max-width: 1200px) {
  header.nav { height: 80px; padding: 0 20px; }
  header.nav .links { display: none !important; }
  .hamburger-menu { display: block !important; }
}

/* ========================================= */
/* FIXED: Tablet and Mobile Navigation Issues */
/* ========================================= */

/* Tablet View Fix (769px-992px): Properly hide desktop links and show hamburger */
@media (min-width: 769px) and (max-width: 992px) {
  header.nav .links {
    display: none !important; /* Ensure desktop links are hidden */
  }
  .hamburger-menu {
    display: flex !important; /* Show hamburger menu */
    margin-left: auto; /* Push to the right */
  }
  header.nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px; /* Add horizontal padding */
  }
}

/* Mobile View Fix (≤768px): Add proper padding and flexbox alignment */
@media (max-width: 768px) {
  header.nav {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding: 0 20px !important; /* Ensure proper horizontal padding */
    box-sizing: border-box !important;
  }
  header.nav .brand {
    flex-shrink: 0; /* Prevent logo from shrinking */
    margin-left: 0; /* Ensure no negative margin */
  }
  header.nav .brand img {
    height: 60px !important; /* Controlled mobile logo size */
    width: auto;
    max-width: 150px;
  }
  .hamburger-menu {
    margin-left: auto; /* Push hamburger to the right */
  }
}

/* Ensure hamburger menu is properly positioned and sized */
.hamburger-menu {
  position: relative;
  z-index: 9999;
  pointer-events: auto;
}

/* Standardize brand logo sizing and prevent cutoff */
header.nav .brand {
  display: inline-block;
  padding: 0;
}

header.nav .brand img {
  height: 200px; /* Desktop default */
  width: auto;
  display: inline-block;
  vertical-align: middle;
  max-width: 100%;
}

/* Mobile logo override */
@media (max-width: 768px) {
  header.nav .brand img {
    height: 60px !important;
    max-width: 150px;
  }
}

/* 9) Cards/panels should adapt in narrow viewports */
.info-box, .card, .panel { width: 100%; }

/* ================================ */
/* iOS-style Frosted Glass for Buttons */
/* Non-destructive: preserves existing styles and overlays glass via ::before */
/* Applies to semantic buttons and button-like links */
button,
.btn,
.btn-primary,
.btn.secondary,
.cta-button {
  position: relative;           /* enable overlay positioning */
  isolation: isolate;           /* ensure proper backdrop compositing */
  overflow: hidden;             /* clip overlay to border radius */
}

/* Glass overlay */
button::before,
.btn::before,
.btn-primary::before,
.btn.secondary::before,
.cta-button::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;                   /* underneath content */
  pointer-events: none;
  /* Disable glass entirely for maximum text clarity */
  background: transparent;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  border: none;
  border-radius: inherit;
  box-shadow: none;
  transition: none;
}

/* Keep actual button content above the overlay */
button > *,
.btn > *,
.btn-primary > *,
.btn.secondary > *,
.cta-button > * {
  position: relative;
  z-index: 1;
}

/* Optional subtle hover emphasis of the glass layer */
button:hover::before,
.btn:hover::before,
.btn-primary:hover::before,
.btn.secondary:hover::before,
.cta-button:hover::before {
  background: transparent;
  border-color: transparent;
  box-shadow: none;
}

/* Optional slight active feedback */
button:active::before,
.btn:active::before,
.btn-primary:active::before,
.btn.secondary:active::before,
.cta-button:active::before {
  background: transparent;
  box-shadow: none;
}

/* Raindrop-like moving sheen (clear highlight, no blur) */
button::after,
.btn::after,
.btn-primary::after,
.btn.secondary::after,
.cta-button::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0; /* stays below content */
  background: linear-gradient(120deg,
              rgba(255,255,255,0) 10%,
              rgba(255,255,255,0.18) 30%,
              rgba(255,255,255,0) 50%);
  background-size: 200% 100%;
  opacity: 0; /* only visible on hover for subtlety */
  transition: opacity 0.35s ease;
}

button:hover::after,
.btn:hover::after,
.btn-primary:hover::after,
.btn.secondary:hover::after,
.cta-button:hover::after {
  opacity: 1;
  animation: glassSheen 1.8s ease-out forwards;
}

@keyframes glassSheen {
  0%   { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Mobile Hero Styles */
.hero-mobile-wrapper {
  display: none; /* Hide by default, show on mobile */
  position: relative;
  height: 100vh;
  background: var(--color-bg-primary);
  overflow: hidden;
  flex-direction: column;
}

/* Hero Buttons Overlay */
.hero-buttons-overlay {
  position: absolute; bottom: 0; left: 0; right: 0;
  z-index: 15; display: flex; gap: 16px; flex-wrap: wrap;
  justify-content: center; align-items: center;
  padding: 40px 20px;
  background: linear-gradient(to top, rgba(11, 14, 20, 0.9) 0%, rgba(11, 14, 20, 0.5) 50%, transparent 100%);
}

/* Ensure buttons are initially visible */
.hero-buttons-overlay .btn {
  opacity: 1;
  transform: translateY(0);
}

/* Button visibility classes for scroll behavior */
.hero-buttons-overlay .btn.view-portfolio-btn {
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.hero-buttons-overlay .btn.start-project-btn {
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.hero-buttons-overlay .btn.hidden {
  opacity: 0;
  transform: translateY(20px);
  pointer-events: none;
}

.hero-buttons-overlay .btn.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Mobile Hero Overlay */
.hero-mobile .hero-content-overlay {
  position: relative;
  z-index: 10;
}

.hero-mobile .hero-content-overlay .cta {
  display: none !important;
}

/* Mobile Slide Footnote Banner - Similar to Desktop */
.hero-mobile .mobile-slide-footnote {
  position: absolute;
  left: 16px;
  bottom: 32px;
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  color: #F8FAFC;
  padding: 8px 10px;
  border-radius: 12px;
  font-size: 10px;
  line-height: 1.15;
  max-width: min(200px, calc(100% - 32px));
  box-shadow: 0 6px 16px rgba(2,6,23,0.35);
  backdrop-filter: blur(6px) saturate(1.08);
  border: 1px solid rgba(255,255,255,0.06);
  z-index: 15;
  display: flex;
  flex-direction: column;
  gap: 3px;
  transition: transform 240ms ease, box-shadow 240ms ease, opacity 240ms ease;
  opacity: 0.95;
  font-family: 'Satoshi', 'Inter', 'SF Pro Display', system-ui, sans-serif;
  font-weight: 600;
  text-shadow: 0 2px 8px rgba(0,0,0,0.4);
}

.hero-mobile .mobile-slide-footnote-desc {
  font-size: 10px;
  margin: 0;
  font-weight: 600;
  /* gradient text: ivory -> azure */
  background: linear-gradient(90deg, #FAF7F2 0%, var(--color-accent) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  line-height: 1.2;
}

/* Subtle sheen effect */
.hero-mobile .mobile-slide-footnote::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(90deg, rgba(255,255,255,0.00) 0%, rgba(255,255,255,0.04) 30%, rgba(255,255,255,0.00) 60%);
  transform: translateX(-120%) rotate(-6deg);
  filter: blur(12px) saturate(1.2);
  transition: transform 1.2s linear;
  border-radius: inherit;
}

.hero-mobile .slide:hover .mobile-slide-footnote::after {
  transform: translateX(120%) rotate(-6deg);
}

/* Mobile responsive adjustments */
@media (max-width: 480px) {
  .hero-mobile .mobile-slide-footnote {
    left: 12px;
    bottom: 20px;
    padding: 6px 8px;
    border-radius: 10px;
    font-size: 9px;
    max-width: calc(100% - 24px);
  }

  .hero-mobile .mobile-slide-footnote-desc {
    font-size: 9px;
  }
}

/* --- Final Mobile Slider Text Fix --- */

/* The individual slide container */
.hero-mobile .slide {
  width: 33.333%;
  height: 100%;
  flex-shrink: 0;
  position: relative; /* Anchor for the content overlay */
  background-size: cover;
  background-position: center;
  overflow: hidden; /* Absolutely necessary */
}

/* The new content overlay that holds the text */
.hero-mobile .slide-content {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  /* Use Flexbox for perfect centering */
  display: flex;
  justify-content: center;
  align-items: center;

  /* Optional: Adds a subtle shadow for better text readability */
  background: linear-gradient(rgba(0,0,0,0.4), transparent, rgba(0,0,0,0.4));
}

/* The hero text, now centered by its flex parent */
.hero-mobile .slide-hero-text {
  color: white;
  font-size: 2.8rem;
  font-weight: bold;
  text-align: center;
  width: 90%; /* Prevents text from touching the edges */
  padding: 0; /* Reset any padding */
  margin: 0;  /* Reset any margin */
}

.hero-top-text-container {
  padding: 20px;
  text-align: center;
  background: var(--color-bg-primary);
  z-index: 10;
}

.main-mobile-hero-heading {
  font-size: clamp(28px, 8vw, 48px);
  font-weight: 700;
  color: var(--color-heading);
  margin: 0;
  letter-spacing: 0.02em;
  line-height: 1.2;
}

.hero-slider-container {
  flex: 1;
  position: relative;
  overflow: hidden;
}

.slider-track {
  display: flex;
  height: 100%;
  width: 300vw; /* 3 slides */
  transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  transform: translateX(0);
}

/* Class-based slide transitions */
.slider-track.slide-0 {
  transform: translateX(0);
}

.slider-track.slide-1 {
  transform: translateX(-100vw);
}

.slider-track.slide-2 {
  transform: translateX(-200vw);
}

.slide {
  position: relative;
}

.slide-hero-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  font-size: 2.8rem;
  font-weight: bold;
  text-align: center;
  width: 90%;
  z-index: 10;
  text-shadow: 0 2px 4px rgba(0,0,0,0.8);
}

.hero-mobile-wrapper .slide {
  width: 100vw;
  height: 100%;
  position: relative;
  overflow: hidden; /* Ensure images don't spill out */
}

.hero-mobile-wrapper .slide img {
  width: 100%;
  height: 100%;
  object-fit: contain; /* Show full image without cropping */
  object-position: center; /* Center the image */
  position: absolute;
  top: 0;
  left: 0;
}

.slide-content {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 24px;
  background: linear-gradient(135deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 50%, rgba(0,0,0,0.7) 100%);
  backdrop-filter: none; /* 0% blur - completely clear images */
  z-index: 10;
}

.slide-hero-text {
  font-size: clamp(20px, 6vw, 32px);
  font-weight: 700;
  color: #fff;
  margin: 0;
  letter-spacing: 0.02em;
  line-height: 1.2;
  text-align: center;
  /* Sophisticated multi-layered text shadows with brand colors */
  text-shadow:
    /* Deep shadow for depth */
    0 2px 8px rgba(0,0,0,0.8),
    /* Azure outer glow */
    0 0 12px rgba(147,197,253,0.4),
    /* Cobalt inner accent */
    0 0 6px rgba(29,78,216,0.3),
    /* Subtle Ivory highlight for top edge */
    0 -1px 2px rgba(250,247,242,0.2);
}

.slide-tag.btn {
  font-size: 16px;
  color: #ccc;
  margin: 0;
  font-weight: 500;
  background: rgba(147, 197, 253, 0.01); /* Azure at 1% transparency */
  border: 1px solid rgba(147, 197, 253, 0.05);
  border-radius: 20px; /* Water drop style with rounded corners */
  padding: 8px 16px;
  backdrop-filter: blur(4px);
  position: relative;
  overflow: hidden;
}

.slide-tag.btn::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, rgba(147,197,253,0.00) 10%, rgba(147,197,253,0.02) 30%, rgba(147,197,253,0.00) 50%);
  background-size: 200% 100%;
  background-position: 200% 0;
  animation: waterDropSheen 2s ease-out infinite;
  border-radius: inherit;
  mix-blend-mode: screen;
}

@keyframes waterDropSheen {
  0%   { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Start Your Project button hover effect */
.start-project-btn:hover,
.start-project-btn:focus {
  background: #93C5FD !important; /* Azure background on hover */
  color: #0B0E14 !important; /* Deep Navy text */
  border-color: #93C5FD !important;
}

/* Mobile-specific adjustments */
@media (max-width: 768px) {
  .hero.hero-desktop { display: none; } /* Hide desktop hero on mobile */
  .hero-mobile-wrapper { display: flex; } /* Show mobile hero on mobile */
}

/* Extra small mobile devices */
@media (max-width: 480px) {
  .nav .brand { margin-left: -50px !important; }
  .hamburger-menu { top: 30px; right: 20px; }
  .slide-content {
    bottom: 15px;
    left: 15px;
    right: 15px;
    padding: 15px;
  }
  .slide-hero-text {
    font-size: clamp(20px, 6vw, 32px);
  }
  .slide-tag {
    font-size: 14px;
  }
}

/* Very small mobile devices */
@media (max-width: 360px) {
  .nav .brand { margin-left: -45px !important; }
}

/* ============================================ */
/* Canonical hamburger sizing across all pages  */
/* Ensures identical icon size and proportions  */
/* no matter where local styles were defined.   */
/* ============================================ */

/* Icon container size */
header.nav .hamburger-icon,
.nav .hamburger-icon,
.hamburger-menu .hamburger-icon {
  width: 30px !important;
  height: 24px !important;
  padding: 0 !important;
}

/* Bar thickness and spacing */
.hamburger-icon .line,
.hamburger-menu .hamburger-icon .line {
  height: 3px !important;
  border-radius: 2px !important;
}

/* Keep mobile logo consistent site-wide */
@media (max-width: 768px) {
  header.nav .brand img,
  .nav .brand img {
    height: 60px !important;
    max-width: 150px !important;
  }
}
